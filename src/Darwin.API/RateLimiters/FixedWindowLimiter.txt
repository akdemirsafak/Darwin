

Sabit bir zaman aralığı kullanarak istekleri sınırlandıran algoritmadır.


//Built-in RateLimit Policy bazlı çalışır.Bu politikayı uygular daha sonra da kullanacak controller'ları belirleriz. 
builder.Services.AddRateLimiter(options =>
{
    //Policy name Fixed ( Kendimiz belirledik. )
    options.AddFixedWindowLimiter("Fixed", _options =>
    {
        _options.Window=TimeSpan.FromSeconds(12); //Her 12 saniyede 1 bu policy çalışıcak
        _options.PermitLimit = 4; //her 12 saniyede sadece 4 req kabul eder.
        _options.QueueLimit = 5; //12 saniye içerisinde 4 den fazla req olursa 4 den fazla gelen request'lerin 5 tanesini kuyruğa alırız. Eğer 5 taneden fazlaysa kalanları boşa çıkar.
        _options.QueueProcessingOrder = QueueProcessingOrder.OldestFirst; //kuyruktaki requestleri ilk gelen ilk işlenecek.

    });
});

app.UseRateLimiter();