
builder.Services.AddRateLimiter(options=>{
   //Concurrency limiter async request'Leri sınırlamak için kullandığımız bir algoritmadır.Sadece eş zamanlı!
   //Her req concurrency sınırını bir azaltmakta ve bittiklerinde bu sınırı 1 arttırmaktadırlar.
   //


    options.AddConcurrencyLimiter("Concurrency", _options =>
    {
        _options.PermitLimit = 4;
        _options.QueueLimit = 2;
        _options.QueueProcessingOrder = QueueProcessingOrder.OldestFirst;
    });

});